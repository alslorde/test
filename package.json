{
  "name": "ms-auth",
  "version": "1.34.0",
  "description": "nestjs based ms-auth service",
  "author": "1win",
  "private": true,
  "license": "UNLICENSED",
  "type": "module",
  "engines": {
    "node": ">=20"
  },
  "scripts": {
    "cron": "nest start -c nest-cron.json",
    "cron:watch": "nest start -c nest-cron.json --watch",
    "cron:prod": "node --es-module-specifier-resolution=node dist/cron",
    "prebuild": "rimraf dist",
    "build": "nest build",
    "infra:up": "docker compose -p 1w_ms-auth -f ./dev/docker-compose.infra.yml up -d",
    "infra:down": "docker compose -p 1w_ms-auth -f ./dev/docker-compose.infra.yml down",
    "start": "nest start -e \"node --es-module-specifier-resolution=node\"",
    "start:prod": "node --experimental-modules --es-module-specifier-resolution=node dist/main",
    "start:dev": "nest start --watch -e \"node --inspect=0.0.0.0:9229 --es-module-specifier-resolution=node\"",
    "eslint": "eslint \"{src,apps,libs,test}/**/*.ts\"",
    "eslint:fix": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "unit": "jest --forceExit --runInBand --detectOpenHandles ./src",
    "integration": "onetech-telemetry-jest-hack && jest --forceExit --runInBand --colors ./test",
    "jest": "jest",
    "jest-clear": "jest --clearCache",
    "test": "env-cmd -e test npm run",
    "dev": "env-cmd -e dev npm run",
    "test-part": "env-cmd -e test",
    "openapi": "cross-env SWAGGER_ENABLED=true SWAGGER_GEN_DOCS_ONLY=true SWAGGER_REWRITE_FILE=true nest start",
    "openapi:dev:view": "npm run dev openapi && npx open-swagger-ui --open OpenAPI.json",
    "prepare": "husky || true"
  },
  "overrides": {
    "@1win/nest-infra-modules": {
      "@nestjs/common": "10.2.8",
      "@nestjs/core": "10.2.8"
    }
  },
  "dependencies": {
    "@1win/core-event-broadcast": "^8.2.1",
    "@1win/email-manager": "4.4.1",
    "@1win/finance-client": "^3.26.0",
    "@1win/nest-infra-modules": "^20.0.23",
    "@1win/sms-manager": "3.0.3-beta.1",
    "@fingerprintjs/fingerprintjs-pro-server-api": "^6.3.0",
    "@nestjs/event-emitter": "2.0.3",
    "@node-rs/argon2": "2.0.2",
    "dayjs": "^1.11.13",
    "i18n": "~0.15.0",
    "ismobilejs": "~1.1.1",
    "jsonwebtoken": "~9.0.0",
    "specifier-resolution-node": "^1.1.4",
    "uuid": "~9.0.0"
  },
  "devDependencies": {
    "@1win/eslint-config-nest": "~2.4.0",
    "@jest/globals": "~29.7.0",
    "@nestjs/cli": "~10.1.0",
    "@types/i18n": "~0.13.0",
    "@types/jest": "~29.5.0",
    "@types/jsonwebtoken": "~9.0.0",
    "@types/supertest": "~6.0.0",
    "@typescript-eslint/eslint-plugin": "~6.20.0",
    "cross-env": "^7.0.3",
    "dotenv": "~16.4.0",
    "env-cmd": "~10.1.0",
    "eslint-config-prettier": "~9.1.0",
    "husky": "~9.1.4",
    "jest": "~29.7.0",
    "lint-staged": "~15.2.9",
    "open-swagger-ui": "^1.2.0",
    "prettier": "~3.3.3",
    "prettier-plugin-organize-imports": "^4.1.0",
    "rimraf": "~5.0.0",
    "supertest": "~6.3.0",
    "ts-jest": "~29.1.0",
    "typescript": "~5.3.0"
  },
  "lint-staged": {
    "**/*": "prettier --write --ignore-unknown"
  },
  "volta": {
    "node": "22.12.0"
  }
}
